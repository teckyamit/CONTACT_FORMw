<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
     <!-- <link rel="icon" href="logo.png" /> -->
    <title>Contact us</title>
</head>
<body>
    <div class="container">
        <form name="contact" method="POST" data-netlify="true">
          <div class="row">
            <div class="col-25">
              <label for="fname">Name</label>
            </div>
            <div class="col-75">
              <input type="text" id="fname" name="name" placeholder="Your name.." required>
            </div>
          </div>
          <div class="row">
            <div class="col-25">
              <label for="lname">Email</label>
            </div>
            <div class="col-75">
              <input type="text" id="lname" name="email" placeholder="Your email.." required>
            </div>
          </div>
          <div class="row">
            <div class="col-25">
              <label for="course">Course</label>
            </div>
            <div class="col-75">
              <select id="course" name="course">
                <option value="Computer Science Engineering">Computer Science Engineering</option>
                <option value="Electrical Engineering">Electrical Engineering</option>
                <option value="Mechanical Engineering">Mechanical Engineering</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col-25">
              <label for="subject">Subject</label>
            </div>
            <div class="col-75">
              <textarea id="subject" name="subject" placeholder="Write something.." style="height:200px" required></textarea>
            </div>
          </div>
          <div class="row">
            <input type="submit" value="Submit">
          </div>
        </form>
      </div>
<script>
document.querySelector("form").addEventListener("submit", handleSubmit);

const handleSubmit = (e) => {
    e.preventDefault()
    let myForm = document.getElementById('pizzaOrder');
    let formData = new FormData(myForm)
    fetch('/', {
        method: 'POST',
        headers: {
            "Content-Type": "application/x-www-form-urlencoded"
        },
        body: new URLSearchParams(formData).toString()
    }).then(() => console.log('Form successfully submitted')).catch((error) =>
        alert(error))
}
</script>
<script>
function encode(data) {
    return Object.keys(data)
        .map(key => encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
        .join("&")
}

const handleSubmit = (event) => {
    event.preventDefault()
    fetch("/", {
        method: "POST",
        headers: {
            "Content-Type": "application/x-www-form-urlencoded"
        },
        body: encode({
            "form-name": event.target.getAttribute("name"),
            ...name
        })
    }).then(() => navigate("/thank-you/")).catch(error => alert(error))
}
</script>
</body>
</html>